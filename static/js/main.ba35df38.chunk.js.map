{"version":3,"sources":["images/non_existent_image2.jpg","images/dishes.svg","images/cute.svg","components/FoodList.js","components/Notification.js","components/Restaurant.js","components/RestaurantList.js","components/AddItems.js","components/Tutorial.js","services/restaurants.js","App.js","index.js"],"names":["module","exports","FoodList","foodList","setFoodList","liStyles","length","className","style","margin","map","food","key","Button","variant","onClick","filter","item","Notification","message","type","role","Restaurant","restaurant","coordinates","address","location","split","join","replace","formattedCoordinates","latitude","longitude","directionsQuery","name","Card","width","Img","src","thumb","require","Body","Title","href","url","target","rel","Subtitle","Text","timings","cuisines","repeat","price_range","user_rating","aggregate_rating","votes","display","RestaurantList","restaurants","console","log","Container","fluid","Row","id","AddItems","restaurantList","newSearch","foodInput","handleFoodInputChange","addFoodItem","handleChooseButton","value","onChange","Tutorial","Col","marginRight","alt","get","chosenFood","startingIndex","a","axios","headers","response","data","App","useState","showFoodList","setShowFoodList","setFoodInput","setChosenFood","setStartingIndex","setCoordinates","errorMessage","setErrorMessage","responseMessage","setResponseMessage","setRestaurantList","loading","setLoading","showUpButton","setShowUpButton","addItemsRef","useRef","restaurantsRef","tutorialRef","useEffect","restaurantService","then","restaurantsData","obj","apikey","setTimeout","prev","concat","window","scrollTo","top","current","offsetTop","behavior","catch","error","showError","code","PERMISSION_DENIED","POSITION_UNAVAILABLE","TIMEOUT","handleSetLocation","navigator","geolocation","getCurrentPosition","position","coords","enableHighAccuracy","maximumAge","timeout","locationSet","observer","IntersectionObserver","isIntersecting","root","rootMargin","threshold","observe","Navbar","bg","expand","Brand","Toggle","aria-controls","Collapse","ref","event","newFoodItem","toLowerCase","trim","includes","Math","floor","random","color","onMouseDown","e","preventDefault","ReactDOM","render","document","getElementById"],"mappings":"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","file":"static/js/main.ba35df38.chunk.js","sourcesContent":["module.exports = __webpack_public_path__ + \"static/media/non_existent_image2.7e62e439.jpg\";","module.exports = __webpack_public_path__ + \"static/media/dishes.fb0434cc.svg\";","module.exports = __webpack_public_path__ + \"static/media/cute.12bc02f1.svg\";","import React from 'react'\r\nimport Button from 'react-bootstrap/Button'\r\n\r\n\r\nconst FoodList = ({foodList, setFoodList}) => {\r\n    const ulStyles = {\r\n        margin: '10px'\r\n    }\r\n\r\n    const liStyles = {\r\n        // marginTop: '2px',\r\n        // marginBottom: '2px'\r\n    }\r\n\r\n    if (foodList.length === 0) {\r\n        return null\r\n    }\r\n\r\n    return (\r\n        <div>\r\n            <ul className='list-group list-group-flush' style={ulStyles}>\r\n            {foodList.map(food => {\r\n                    return <li className='list-group-item' style={liStyles} key={food}>{food} <Button variant=\"danger\" onClick={() => setFoodList(foodList.filter(item => item !== food))}>{'\\u2715'}</Button></li>\r\n            })}\r\n            </ul>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default FoodList\r\n\r\n","import React from 'react'\r\n\r\n\r\nconst Notification = ({ message, type }) => {\r\n    if (message === null) {\r\n        return null\r\n    }\r\n\r\n    if (type === 'error') {\r\n        return (\r\n            <div className='alert alert-danger' role='alert'>\r\n                {message}\r\n            </div>\r\n        ) \r\n    }\r\n\r\n    return (\r\n        <div className='alert alert-success' role='alert'>\r\n            {message}\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default Notification","import React from 'react'\r\nimport Card from 'react-bootstrap/Card'\r\n\r\n\r\nconst Restaurant = ({ restaurant, coordinates }) => {\r\n    let address = restaurant.location.address.split(' ').join('+').replace(/,/g, '')\r\n    let formattedCoordinates = `${coordinates.latitude},${coordinates.longitude}`\r\n    let directionsQuery = `https://www.google.com/maps/dir/?api=1&origin=${formattedCoordinates}&destination=${restaurant.name}+${address}`\r\n    // let searchOnlyQuery = `https://www.google.com/maps/search/?api=1&query=${restaurant.name}+${address}`\r\n\r\n    return (\r\n        <Card style={{ width: '18rem', margin: '0 auto' }}>\r\n            <Card.Img variant=\"top\" src={restaurant.thumb || require('../images/non_existent_image2.jpg') } />\r\n            <Card.Body>\r\n                <Card.Title className='centerText'><a href={restaurant.url} target='_blank' rel='noopener noreferrer'>{restaurant.name}</a></Card.Title>\r\n                <Card.Subtitle className='text-dark'>{restaurant.location.address}</Card.Subtitle>\r\n                <Card.Text>\r\n                    <b>Hours: </b>{restaurant.timings}<br/>\r\n                    <b>Cuisines: </b>{restaurant.cuisines} <br/>\r\n                    <b>Price range: </b>{'$'.repeat(restaurant.price_range)}  <b>Rating: </b>{restaurant.user_rating.aggregate_rating} ({restaurant.user_rating.votes})\r\n                    <a href={directionsQuery} className=\"btn btn-outline-primary mt-1\" style={{display: 'block' }} target='_blank' rel='noopener noreferrer'>Get Directions</a>\r\n                </Card.Text>\r\n            </Card.Body>\r\n        </Card>\r\n    )\r\n}\r\n\r\nexport default Restaurant","import React from 'react'\r\nimport Restaurant from './Restaurant'\r\nimport Row from 'react-bootstrap/Row'\r\nimport Container from 'react-bootstrap/Container'\r\n\r\n\r\nconst RestaurantList = ({ restaurants, coordinates }) => {\r\n    console.log(restaurants)\r\n    return (\r\n        <Container fluid>\r\n            <Row className=\"justify-content-md-center\">\r\n                {restaurants.map(restaurant => \r\n                    <Restaurant key={restaurant.id} restaurant={restaurant} coordinates={coordinates} />\r\n                )}\r\n            </Row>\r\n        </Container>\r\n    )\r\n}\r\n\r\nexport default RestaurantList","import React from 'react'\r\nimport Button from 'react-bootstrap/Button'\r\n\r\n\r\nconst AddItems = ({ restaurantList, newSearch, foodInput, handleFoodInputChange, addFoodItem, handleChooseButton}) => {\r\n\r\n    if (restaurantList.length > 0) {\r\n        return <Button onClick={newSearch}>Start new search</Button> \r\n    }\r\n\r\n    return (\r\n        <>\r\n            <input type=\"text\" value={foodInput} onChange={handleFoodInputChange}/>\r\n            <Button onClick={addFoodItem} className='ml-1'>Add</Button><Button onClick={handleChooseButton} className='ml-1'>Decide for me</Button><br />\r\n        </>\r\n    )\r\n}\r\n\r\nexport default AddItems","import React from 'react'\r\nimport Container from 'react-bootstrap/Container'\r\nimport Row from 'react-bootstrap/Row'\r\nimport Col from 'react-bootstrap/Col'\r\n\r\n\r\nconst Tutorial = () => {\r\n\r\n    return (\r\n        <Container fluid>\r\n            {/* <h1 className='text-center mt-2 mb-0 display-4'>LetsEat</h1> */}\r\n            <Row className='d-flex flex-column'>\r\n                <Col className='d-flex flex-sm-row flex-column align-items-center justify-content-center'>\r\n                    <img src={require('../images/dishes.svg')} style={{ width: '16rem', marginRight: '0' }} alt='dishes with smiley face' />\r\n                    <p className='lead intro-p'>LetsEat is a eatery decider app for the undecisive. Create a list of dishes or cuisines of what you or your friends might want to eat and we will do the decision-making for you.\r\n                    </p>\r\n                </Col>\r\n                <Col className='d-flex align-items-center justify-content-center lead'>\r\n                    <ol>\r\n                        <h3 className='font-weight-light'>How to use</h3>\r\n                        <li>Enter dishes or cuisines that you might like to eat.</li>\r\n                        <li>Let us randomly choose an item from the list.</li>\r\n                        <li>Browse through the relevant restaurants around your location.*</li>\r\n                        <p><small className='text-muted'>*Access to your location required. Accuracy may vary on PC devices.</small></p>\r\n\r\n                    </ol>\r\n                </Col>\r\n            </Row>\r\n        </Container>\r\n    )\r\n}\r\n\r\nexport default Tutorial","import axios from 'axios'\r\nconst api = \"2da08fdb0e253646533d241423c90e16\";\r\n\r\n\r\nconst get = async (chosenFood, coordinates, startingIndex) => {\r\n    const response = await axios.get(`https://developers.zomato.com/api/v2.1/search?q=${chosenFood}&start=${startingIndex}&lat=${coordinates.latitude}&lon=${coordinates.longitude}&sort=real_distance&order=desc`,\r\n    {headers: {\"user-key\": api}})\r\n    return response.data.restaurants\r\n}\r\n\r\nexport default { get }\r\n","import React, { useState, useEffect, useRef } from 'react';\r\nimport FoodList from './components/FoodList'\r\nimport Notification from './components/Notification'\r\nimport RestaurantList from './components/RestaurantList'\r\nimport AddItems from './components/AddItems'\r\nimport Tutorial from './components/Tutorial'\r\nimport restaurantService from './services/restaurants'\r\nimport Loader from 'react-loader-spinner'\r\nimport { Navbar, Button, Row, Container } from 'react-bootstrap'\r\n// import Button from 'react-bootstrap/Button'\r\n// import Navbar from 'react-bootstrap/Navbar'\r\n// import Row from 'react-bootstrap/Row'\r\n// import Container from 'react-bootstrap/Container'\r\n\r\n\r\nconst App = () => {\r\n  const [foodList, setFoodList] = useState([])\r\n  const [showFoodList, setShowFoodList] = useState(true)\r\n  const [foodInput, setFoodInput] = useState('')\r\n  const [chosenFood, setChosenFood] = useState('')\r\n  const [startingIndex, setStartingIndex] = useState(0)\r\n  const [coordinates, setCoordinates] = useState({longitude: null, latitude: null})\r\n  const [errorMessage, setErrorMessage] = useState(null)\r\n  const [responseMessage, setResponseMessage] = useState(null)\r\n  const [restaurantList, setRestaurantList] = useState([])\r\n  const [loading, setLoading] = useState(false)\r\n  const [showUpButton, setShowUpButton] = useState(false)\r\n  const addItemsRef = useRef()\r\n  const restaurantsRef = useRef()\r\n  const tutorialRef = useRef()\r\n\r\n  useEffect(() => {\r\n    if (chosenFood && coordinates.latitude && coordinates.longitude) {\r\n      const getRestaurants = () => {\r\n        setLoading(true)\r\n        restaurantService\r\n        .get(chosenFood, coordinates, startingIndex)\r\n        .then(restaurantsData => {\r\n          restaurantsData = restaurantsData.map(obj => {\r\n            delete obj.restaurant.apikey\r\n            return obj.restaurant\r\n          })\r\n          if (restaurantsData.length === 0) {\r\n            setResponseMessage(`No restaurants found with the keyword: ${chosenFood}`)\r\n            setTimeout(() => {\r\n              setResponseMessage(null)\r\n            }, 2000)\r\n          }\r\n          setRestaurantList(prev => {\r\n            return prev.concat(restaurantsData)\r\n          })\r\n          if (startingIndex === 0) {\r\n            window.scrollTo({ top: addItemsRef.current.offsetTop - 10, behavior: 'smooth'})\r\n          }\r\n          setLoading(false)\r\n        })\r\n        .catch((error) => {\r\n          setErrorMessage(`Error: ${errorMessage}`)\r\n          setTimeout(() => {\r\n            setErrorMessage(null)\r\n          }, 3000)        })\r\n      }\r\n      getRestaurants()\r\n    }\r\n  \r\n  }, [chosenFood, coordinates, startingIndex, errorMessage])\r\n\r\n  const handleFoodInputChange = (event) => {\r\n    setFoodInput(event.target.value)\r\n  } \r\n\r\n  const addFoodItem = () => {\r\n    const newFoodItem = foodInput.toLowerCase().trim()\r\n    setShowFoodList(true)\r\n    setFoodInput('')\r\n    if (foodList.includes(newFoodItem)) {\r\n      setResponseMessage('Food item is already in the list')\r\n      setTimeout(() => {\r\n        setResponseMessage(null)\r\n      }, 3000)\r\n    }\r\n    if (!foodList.includes(newFoodItem) && newFoodItem.length > 0) {\r\n      setFoodList(foodList.concat(newFoodItem))\r\n    }\r\n  }\r\n\r\n  const handleChooseButton = () => {\r\n    if (!locationSet()) {\r\n      handleSetLocation()\r\n    }\r\n    setShowFoodList(false)\r\n    setFoodList([])\r\n    setChosenFood(foodList[Math.floor(Math.random() * foodList.length)])\r\n  }\r\n\r\n  const newSearch = () => {\r\n    setRestaurantList([])\r\n    setFoodList([])\r\n    setChosenFood('')\r\n    setShowFoodList(true)\r\n  }\r\n\r\n  const showError = (error) => {\r\n    switch(error.code) {\r\n      case error.PERMISSION_DENIED:\r\n        setErrorMessage('Location permission was declined, please enable before trying again.')\r\n        setTimeout(() => { \r\n          setErrorMessage(null)\r\n        }, 5000)\r\n        break;\r\n      case error.POSITION_UNAVAILABLE:\r\n        setErrorMessage('Location information is unavailable.')\r\n        setTimeout(() => { \r\n          setErrorMessage(null)\r\n        }, 5000)\r\n        break;\r\n      case error.TIMEOUT:\r\n        setErrorMessage('The request to get user location timed out.')\r\n        setTimeout(() => { \r\n          setErrorMessage(null)\r\n        }, 5000)\r\n        break;\r\n      default:\r\n        setErrorMessage('An unknown error occurred.')\r\n        setTimeout(() => { \r\n          setErrorMessage(null)\r\n        }, 5000)\r\n    }\r\n  }\r\n\r\n  const handleSetLocation = () => {\r\n    if (navigator.geolocation) {\r\n      navigator.geolocation.getCurrentPosition(position => {\r\n        // console.log('Setting location...', position)\r\n        setCoordinates({longitude: position.coords.longitude, latitude: position.coords.latitude})\r\n      }, showError, { enableHighAccuracy: true, maximumAge: 0, timeout: 5000 })\r\n    } else {\r\n      setErrorMessage('Geolocation is not supported by this browser')\r\n      setTimeout(() => { \r\n        setErrorMessage(null)\r\n      }, 5000)\r\n    }\r\n  }\r\n\r\n  const locationSet = () => {\r\n    if (coordinates.latitude !== null && coordinates.latitude !== null) {\r\n      return true\r\n    }\r\n    return false\r\n  }\r\n\r\n  useEffect(() => {\r\n    const observer = new IntersectionObserver(\r\n      ([entry]) => {\r\n        // console.log(entry);\r\n        if (entry.isIntersecting) {\r\n          setShowUpButton(false)\r\n        } else {\r\n          setShowUpButton(true)\r\n        }\r\n      },\r\n      {\r\n        root: null,\r\n        rootMargin: \"0px\",\r\n        threshold: 0\r\n      }\r\n    );\r\n    if (tutorialRef.current) {\r\n      observer.observe(tutorialRef.current);\r\n    }\r\n  }, [tutorialRef]);\r\n\r\n  const clearState = () => {\r\n    setFoodList([])\r\n    setShowFoodList(true)\r\n    setFoodInput('')\r\n    setChosenFood('')\r\n    setStartingIndex(0)\r\n    setCoordinates({longitude: null, latitude: null})\r\n    setRestaurantList([])\r\n    setShowUpButton(false)\r\n  }\r\n\r\n  return (\r\n    <div>\r\n        <Navbar bg=\"dark\" variant=\"dark\" expand=\"lg\">\r\n          <Navbar.Brand href=\"#\" onClick={() => clearState()}>LetsEat</Navbar.Brand>\r\n          <Navbar.Toggle aria-controls=\"basic-navbar-nav\" />\r\n          <Navbar.Collapse id=\"basic-navbar-nav\">\r\n            <Navbar.Collapse className=\"justify-content-end\">\r\n              <Navbar.Text>\r\n                Created by: <a href=\"#login\">Jeffrey Law</a>\r\n              </Navbar.Text>\r\n            </Navbar.Collapse>\r\n          </Navbar.Collapse>\r\n        </Navbar>\r\n\r\n\r\n      <Container fluid>\r\n        {coordinates.latitude}, {coordinates.longitude}\r\n        <Row className=\"justify-content-center\">\r\n            <Notification message={errorMessage} type='error' />\r\n        </Row>\r\n        <Row ref={tutorialRef}>\r\n          <Tutorial />\r\n        </Row>\r\n        <Row className=\"justify-content-center\" ref={addItemsRef}>\r\n          <AddItems restaurantList={restaurantList} newSearch={newSearch} foodInput={foodInput} handleFoodInputChange={handleFoodInputChange} addFoodItem={addFoodItem} handleChooseButton={handleChooseButton} />\r\n        </Row>\r\n        <Row className=\"justify-content-center mt-2\">\r\n          <Notification message={responseMessage} type='error' />\r\n        </Row>\r\n        <Row className=\"justify-content-center\">\r\n          { chosenFood && restaurantList.length > 0 && <h1>It's {chosenFood} time! <img className='birdIcon' src={require('./images/cute.svg')} alt='bird icon' /></h1> }\r\n          <FoodList foodList={showFoodList ? foodList : []} setFoodList={setFoodList} />\r\n        </Row>\r\n      </Container>\r\n\r\n      <Container fluid>\r\n          <RestaurantList restaurants={restaurantList} coordinates={coordinates} />\r\n          <Row className=\"justify-content-center test\" ref={restaurantsRef}>\r\n            { loading && <Loader type='Circles' color='#00BFFF' /> }\r\n            { !loading && chosenFood && restaurantList.length > 0 && restaurantList.length !== 100 && <Button onClick={() => setStartingIndex(startingIndex + 20)}>Show more restaurants</Button> }\r\n          <Button style={{ display: (restaurantList.length > 0 && showUpButton) ? 'inline-block' : 'none' }} id=\"pageUp\" onMouseDown={(e) => e.preventDefault()} onClick={() => window.scrollTo({ top: addItemsRef.current.offsetTop - 10, behavior: 'smooth'})}>{'\\u27a4'}</Button>\r\n          </Row>\r\n        </Container>\r\n    </div>\r\n  )\r\n}\r\n\r\nexport default App;\r\n","import 'bootstrap/dist/css/bootstrap.min.css';\r\nimport React from 'react';\r\nimport ReactDOM from 'react-dom';\r\nimport App from './App';\r\nimport './index.css'\r\n\r\nReactDOM.render(\r\n    <App />,\r\n  document.getElementById('root')\r\n);\r\n"],"sourceRoot":""}